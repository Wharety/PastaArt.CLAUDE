{% extends "base.html" %}

{% block title %}Pedido Confirmado - Pasta Art Encanto{% endblock %}

{% block content %}
<section class="order-success-section">
    <div class="container">
        <div class="success-content">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            
            <h1 class="success-title">{{ config.pedido_sucesso_titulo or 'Pedido realizado com sucesso!' }}</h1>
            <p class="success-subtitle">{{ ('Olá {nome}, registramos seu pedido com sucesso. Enviamos um e-mail de confirmação.' if emails_sent else 'Olá {nome}, registramos seu pedido com sucesso. Em breve entraremos em contato via WhatsApp.').replace('{nome}', nome) }}</p>
            
            <div class="order-details">
                {% if pedido_id %}
                <div class="detail-item">
                    <i class="fas fa-receipt"></i>
                    <span>Pedido número: <strong>#{{ pedido_id }}</strong></span>
                </div>
                {% endif %}
                
                <div class="detail-item">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Total do pedido: <strong>R$ {{ "%.2f"|format(total) }}</strong></span>
                </div>
                
                <div class="detail-item">
                    <i class="fas fa-clock"></i>
                    <span>Resposta em até <strong>{{ config.pedido_tempo_resposta or '1 hora' }}</strong></span>
                </div>
                
                {% if emails_sent %}
                <div class="detail-item">
                    <i class="fas fa-envelope"></i>
                    <span>Confirmação enviada por <strong>e-mail</strong></span>
                </div>
                {% endif %}
                <div class="detail-item">
                    <i class="fab fa-whatsapp"></i>
                    <span>Nossa equipe entrará em contato via <strong>WhatsApp</strong></span>
                </div>
            </div>


            <div class="next-steps">
                <h3>Próximos Passos:</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Confirmação</strong>
                            <p>Confirmaremos seu pedido via WhatsApp em até 1 hora</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Pagamento</strong>
                            <p>Enviaremos as opções de pagamento (PIX, cartão ou dinheiro)</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Preparo</strong>
                            <p>Seus doces serão preparados com carinho no prazo estipulado</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Entrega</strong>
                            <p>Combinaremos o melhor horário para entregar ou retirar no local</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <a href="{{ url_for('loja.index') }}" class="btn btn-outline btn-large">
                    <i class="fas fa-home"></i>
                    Voltar ao Início
                </a>
                
                <a href="{{ url_for('usuarios.meus_pedidos') }}" class="btn btn-outline btn-large">
                    <i class="fas fa-list"></i>
                    Ver Meus Pedidos
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Seção de Agradecimento -->
<section class="thank-you-section">
    <div class="container">
        <div class="thank-you-content">
            <h2>Obrigado pela Confiança!</h2>
            <p>Estamos muito felizes em fazer parte do seu momento especial. Cada doce é preparado com muito carinho e dedicação para garantir que tudo saia perfeito.</p>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
// Animação dos steps
const steps = document.querySelectorAll('.step');
steps.forEach((step, index) => {
    setTimeout(() => {
        step.style.opacity = '1';
        step.style.transform = 'translateY(0)';
    }, index * 200);
});

// Adicionar animação inicial aos steps
steps.forEach(step => {
    step.style.opacity = '0';
    step.style.transform = 'translateY(20px)';
    step.style.transition = 'all 0.3s ease';
});
</script>
{% endblock %}
